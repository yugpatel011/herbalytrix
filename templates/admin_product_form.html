 {% extends "base.html" %}
 {% block content %}
 {% if product %}
    <h2>Edit Product</h2>
{% else %}
    <h2>New Product</h2>
{% endif %}

<p style="font-size:0.9rem;color:#4b5563;margin-bottom:1rem;">
    Manage shampoo details, price, stock and visibility.
</p>

<form method="post" style="max-width:560px;margin-top:0.5rem;"
      action="{% if product %}{{ url_for('admin_product_edit', product_id=product.id) }}{% else %}{{ url_for('admin_product_new') }}{% endif %}">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

    <label for="name">Name*</label>
    <input id="name" name="name" value="{{ product.name if product else '' }}">

    <label for="price">Price (â‚¹)*</label>
    <input id="price" name="price" type="number" min="1"
           value="{{ product.price if product else '' }}">

    <label for="ml">Size (ml)*</label>
    <input id="ml" name="ml" type="number" min="1"
           value="{{ product.ml if product else '' }}">

    <label for="stock">Stock quantity</label>
    <input id="stock" name="stock" type="number" min="0"
           value="{{ product.stock if product else 0 }}">

    <label for="description">Description</label>
    <textarea id="description" name="description" rows="4">{{ product.description if product else '' }}</textarea>

    <label for="image">Image path (under /static)</label>
    <input id="image" name="image"
           placeholder="/static/shampoo.png"
           value="{{ product.image if product else '/static/shampoo.jpg' }}">

    <label style="display:flex;align-items:center;gap:0.45rem;margin-top:0.2rem;">
        <input type="checkbox" name="is_active" value="1"
               {% if not product or product.is_active %}checked{% endif %}
               style="width:auto;margin:0;">
        <span style="font-size:0.9rem;font-weight:500;">Visible in store</span>
    </label>

    <div style="margin-top:1.2rem;display:flex;gap:0.6rem;flex-wrap:wrap;">
        <button class="btn btn-primary" type="submit">
            {% if product %}Save changes{% else %}Create product{% endif %}
        </button>
        <a href="{{ url_for('admin_products') }}" class="btn btn-secondary">Back to products</a>
    </div>
</form>

{% endblock %}