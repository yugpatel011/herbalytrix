{% extends "base.html" %}
{% block content %}

<div style="display:flex;justify-content:space-between;align-items:center;gap:1rem;margin-bottom:1rem;">
    <h2 style="margin:0;">Orders</h2>
    <div style="display:flex;gap:0.5rem;flex-wrap:wrap;">
        <a href="{{ url_for('admin_products') }}" class="btn btn-secondary">Products</a>
        <a href="{{ url_for('admin_logout') }}" class="btn btn-secondary">Logout</a>
    </div>
</div>

{% if orders %}
<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Customer</th>
            <th>Phone</th>
            <th>City</th>
            <th>Total (â‚¹)</th>
            <th>Status</th>
            <th>Placed at</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% for o in orders %}
        <tr>
            <td>#{{ o.id }}</td>
            <td>{{ o.customer_name }}</td>
            <td>{{ o.phone }}</td>
            <td>{{ o.city }}</td>
            <td>{{ o.total_amount }}</td>
            <td style="text-transform:capitalize;">{{ o.status }}</td>
            <td>{{ o.created_at.strftime("%d-%m-%Y %H:%M") }}</td>
            <td>
                <a href="{{ url_for('admin_order_detail', order_id=o.id) }}"
                   class="btn btn-secondary"
                   style="padding:0.25rem 0.7rem;font-size:0.75rem;">
                    View
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>No orders yet.</p>
{% endif %}

{% endblock %}
